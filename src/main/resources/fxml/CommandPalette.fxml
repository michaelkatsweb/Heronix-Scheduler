<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<!--
Command Palette / Global Search (Ctrl+K) - Dark Futuristic Theme
Location: src/main/resources/fxml/CommandPalette.fxml
Purpose: VS Code-style global search across all entities and actions
-->

<VBox xmlns="http://javafx.com/javafx/21"
      xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="com.eduscheduler.ui.controller.CommandPaletteController"
      styleClass="command-palette-container"
      prefWidth="700"
      prefHeight="500"
      spacing="0">

    <!-- Search Input Section -->
    <HBox styleClass="command-palette-search-box" alignment="CENTER_LEFT" spacing="10">
        <padding>
            <Insets top="15" right="15" bottom="15" left="15"/>
        </padding>

        <Label text="ðŸ”" styleClass="label" style="-fx-font-size: 18;"/>

        <TextField fx:id="searchField"
                   promptText="Search students, teachers, courses, rooms, or type action..."
                   HBox.hgrow="ALWAYS"
                   styleClass="search-field"
                   style="-fx-font-size: 14; -fx-background-color: transparent; -fx-border-width: 0;"/>

        <Label fx:id="resultCountLabel" text="" styleClass="label-subtle" style="-fx-font-size: 11;"/>
    </HBox>

    <Separator/>

    <!-- Category Filter Pills -->
    <HBox spacing="8" styleClass="command-palette-filter-bar" alignment="CENTER_LEFT">
        <padding>
            <Insets top="10" right="15" bottom="10" left="15"/>
        </padding>

        <ToggleButton fx:id="allFilter" text="All" selected="true"
                      styleClass="filter-pill" onAction="#handleFilterChange"/>
        <ToggleButton fx:id="studentsFilter" text="ðŸ‘¨â€ðŸŽ“ Students"
                      styleClass="filter-pill" onAction="#handleFilterChange"/>
        <ToggleButton fx:id="teachersFilter" text="ðŸ‘¨â€ðŸ« Teachers"
                      styleClass="filter-pill" onAction="#handleFilterChange"/>
        <ToggleButton fx:id="coursesFilter" text="ðŸ“š Courses"
                      styleClass="filter-pill" onAction="#handleFilterChange"/>
        <ToggleButton fx:id="roomsFilter" text="ðŸšª Rooms"
                      styleClass="filter-pill" onAction="#handleFilterChange"/>
        <ToggleButton fx:id="actionsFilter" text="âš¡ Actions"
                      styleClass="filter-pill" onAction="#handleFilterChange"/>

        <Region HBox.hgrow="ALWAYS"/>

        <Label text="ESC to close" styleClass="label-subtle" style="-fx-font-size: 10; -fx-opacity: 0.6;"/>
    </HBox>

    <Separator/>

    <!-- Results List -->
    <ListView fx:id="resultsListView"
              VBox.vgrow="ALWAYS"
              styleClass="command-palette-results">
        <padding>
            <Insets top="5" right="5" bottom="5" left="5"/>
        </padding>
    </ListView>

    <!-- Footer with Keyboard Shortcuts Help -->
    <Separator/>

    <HBox spacing="20" styleClass="command-palette-footer" alignment="CENTER_LEFT">
        <padding>
            <Insets top="8" right="15" bottom="8" left="15"/>
        </padding>

        <Label text="â†‘â†“ Navigate" styleClass="label-subtle" style="-fx-font-size: 10;"/>
        <Label text="â†µ Select" styleClass="label-subtle" style="-fx-font-size: 10;"/>
        <Label text="ESC Close" styleClass="label-subtle" style="-fx-font-size: 10;"/>

        <Region HBox.hgrow="ALWAYS"/>

        <Label fx:id="searchTimeLabel" text="" styleClass="label-subtle"
               style="-fx-font-size: 10; -fx-opacity: 0.5;"/>
    </HBox>

</VBox>
